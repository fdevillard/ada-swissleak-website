<!DOCTYPE html>
<html lang="en">
<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title>ADA: SwissLeak</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/skeleton.css">
  <link rel="stylesheet" href="css/custom.css">

  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="images/favicon.png">

  <!-- JS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <script type="text/javascript" src="js/plotly-latest.min.js"></script>

</head>
<body>

  <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <div class="container">
    <div class="row">
      <div class="two-thirds column" style="margin-top:10%">
        <h1>SwissLeak project</h1>
        <p>Published information has been collected carefully but no guarantee
        about its completeness, correctness or up-to-date nature is given.</p>
        <p> No liability is accepted for damage or loss incurred from any 
        information obtained in this website</p>
      </div>
      <div class="one-third column" style="margin-top:10%">
        <img src="images/ADA-logo.png" class="u-max-full-width" />
      </div>
    </div>
  </div>

  <div class="container values">
    <div class="row">
      <div class="one-third column value-header">Lionel Fleury</div>
      <div class="one-third column value-header">Semion Sidorenko</div>
      <div class="one-third column value-header">Florent Devillard</div>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="column">
        <h2>Timelapse</h2>
        <div id="tester" class="u-max-full-width"></div>
      </div>
    </div>
  </div>

<!-- Let's scripting
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->

<script>
Plotly.d3.json('https://raw.githubusercontent.com/fdevillard/ada-swissleak-website/master/data/number_closing_account_per_year_bis.json',
  function(err, data_json){

    yearly_data = data_json[2015]

    console.log(yearly_data)
    
    var data = [{
      type: 'choropleth',
      //locationmode: 'ISO-3',
      locations: yearly_data['locations'],
      z: yearly_data['values'],
      text: yearly_data['locations'],
      autocolorscale: true
    }];

    var layout = {
      title: 'Number of closed accounts',
      height: 800,
      width: 800,
      geo: {
        projection: {
          type: 'mercator'
        }
      }
    };

    Plotly.plot(tester, data, layout, {showLink: false});
    

  });
</script>

<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>
</html>
